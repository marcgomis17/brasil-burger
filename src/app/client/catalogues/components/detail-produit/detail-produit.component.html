<div id="main-container">
  <mog-header></mog-header>
  <div id="detail-wrapper">
    <ng-container *ngIf="(details$|async) as details">
      <ng-container *ngIf="details.produit as produit">
        <div id="detail-part">
          <div id="img-wrapper">
            <img id="product-img" src="data:image/png;base64,{{produit?.image}}" alt="">
          </div>
          <div id="card-title">
            <h3>{{produit?.nom}}</h3>
            <h4 id="price">{{produit?.prix|currency : 'XOF'}}</h4>
            <ng-container *ngIf="(produit['@type']|lowercase)==='menu'">
              <div id="menu-composition">
                <h6>Composition</h6>
                <ul>
                  <ng-container *ngFor="let menuBurger of produit.menuBurgers">
                    <li>{{menuBurger.quantite}} {{menuBurger.burger.nom}}</li>
                  </ng-container>
                  <ng-container *ngFor="let menuFrites of produit.menuFrites">
                    <li>{{menuFrites.quantite}} Portion frite {{menuFrites.frites.nom|lowercase}}</li>
                  </ng-container>
                  <ng-container *ngFor="let menuTaille of produit.menuTailles">
                    <li>{{menuTaille.quantite}} Boisson {{menuTaille['tailles']['libelle']|lowercase}}</li>
                  </ng-container>
                </ul>
              </div>
            </ng-container>
          </div>
          <ng-container *ngIf="(produit['@type']|lowercase)==='menu'">
            <div id="menu-complements">
              <div class="c-display">
                <h6>Boissons</h6>
                <ng-container *ngFor="let menuTaille of details['produit']['menuTailles']">
                  <mog-liste-produits [listType]="'complement'" [produits]="menuTaille['tailles']['boissons']" class="list"></mog-liste-produits>
                </ng-container>
              </div>
              <div class="c-display">
                <h6>Frites</h6>
                <div class="list">
                  <mog-liste-produits [listType]="'complement'" [produits]="details['produit']['menuFrites']" class="list"></mog-liste-produits>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
        <div id="others-wrapper">
          <div class="others" id="others-boissons">
            <ng-container *ngIf="(produit['@type']|lowercase)==='burger'">
              <h5 id="others-title">Boissons</h5>
            </ng-container>
            <!-- <ng-container *ngIf="(produit['@type']|lowercase)==='menu'">
              <h5 class="others-title">Autres boissons</h5>
            </ng-container> -->
            <mog-liste-produits [listType]="'complement'" [produits]="details.boissons" class="list"></mog-liste-produits>
          </div>
          <div class="others" id="others-frites">
            <ng-container *ngIf="(produit['@type']|lowercase)==='burger'">
              <h5 id="others-title">Frites</h5>
            </ng-container>
            <!-- <ng-container *ngIf="(produit['@type']|lowercase)==='menu'">
              <h5 class="others-title">Autres portions de frites</h5>
            </ng-container> -->
            <mog-liste-produits [listType]="'complement'" [produits]="details.frites" class="list"></mog-liste-produits>
          </div>
        </div>
      </ng-container>
    </ng-container>
  </div>
  <div id="fab-container">
    <button id="add-fab"><img src="assets/icons/cart-add.svg" alt="" class="btn-icon"><span id="btn-text">Ajouter au panier</span></button>
  </div>
  <mog-footer></mog-footer>
</div>